<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Penggandaan</title>
	<link rel="stylesheet" href="">
	<style>
		body{
			font-family: sans-serif;
		}
		#peringatan{
			color: #f00;
		}
	</style>
</head>
<body>
	<textarea name="input" id="input" cols="30" rows="10" onkeyup="capture()" placeholder="Masukan teks yang akan digandakan disini"></textarea>
	<textarea name="output" id="output" cols="30" rows="10" disabled="" placeholder="Hasilnya..."></textarea>
	<br>
	<input type="number" id="sum" value="2" onkeyup="capture()" onclick="capture()">
	<button id="reset" onclick="reset()">Reset</button>
	<button id="copy" onclick="copy()">Copy</button>
	<br>
	<span id="peringatan"></span>
</body>
	<script>
		var temp = "";
		function capture(){
			temp = "";
			var sum  = getById("sum").value;
			var input  = getById("input").value;
			if (sum > 1000) {
				sum = 1000;
				getById("peringatan").removeAttribute("style");
				getById("peringatan").innerHTML = "Jumlah penggandaan tidak boleh lebih dari 1000";
			} else {
				getById("peringatan").setAttribute("style", "display: none;");
			}
			for(var i = 1; i <= sum; i++){
				temp += input;
				if (i < sum) temp += " ";
			}
			getById("output").value = temp;
		}

		function reset(){
			getById("input").value = "";
			getById("sum").value =2;
			capture();
		}

	    function copy(){
	        document.execCommand("copy");
	    }
	    
	    document.addEventListener('copy', (event) => {
	        event.clipboardData.setData('text', getById("output").value);
	        event.preventDefault();
	    });

	    function getById(x){
	    	return document.getElementById(x);
	    }
	</script>
</html>
